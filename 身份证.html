<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">

		</style>
	</head>
	<body>
		<div id="box">

		</div>
		请输入身份证前17位，点击空白处即可计算最后一位
		<input type="text" id = 'aaa' name="" value="">
		<script type="text/javascript">
		aaa.onblur = function(){
			var str = aaa.value.trim();
			var re = /\d+/;
			if(str.length != 17||str.match(re)[0].length != 17){
				return
			}
			str = str.split('');
			var arr = [7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2]
			var num2 = 0;
			for (var i = 0; i < arr.length; i++) {
				num2 += Number(str[i])*arr[i];
			}
			num2%=11;
			if(num2 == 0){
				num2 = 1;
			}else if(num2 == 1){
				num2 = 0;
			}else if(num2 == 2){
				num2 = 'X';
			}else {
				num2 = 12 - num2;
			}
			box.innerHTML = num2;
			}
		</script>
	</body>
</html>
